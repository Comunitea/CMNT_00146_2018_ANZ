<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="base_website_sale_products_add_to_cart" name="Add to Cart Base" inherit_id="website_sale.products_add_to_cart">
        <!-- Replace add to cart miniature -->
        <xpath expr="//t[2]/a" position="attributes">
            <attribute name="t-att-href">keep('/product/{}', page=(pager['page']['num'] if pager['page']['num']&gt;1 else None)).format(product.slug) if product.slug else keep('/shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))</attribute>
        </xpath>

        <!-- Replace add to cart miniature. Force product without variants to multi add to cart -->
        <xpath expr="//div[hasclass('product_price')]//t[1]/a" position="replace">
            <a class="btn btn-default btn-xs" t-att-href="keep('/product/{}', page=(pager['page']['num'] if pager['page']['num']&gt;1 else None)).format(product.slug) if product.slug else keep('/shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))">
                <span class="fa fa-shopping-cart" />
            </a>
        </xpath>
    </template>

    <template id="base_website_sale_sort" name="Show Sort by Base" inherit_id="website_sale.sort">
        <xpath expr="//t[@t-set='website_sale_sortable_current']" position="after">
            <t t-set="brand" t-if="request.params.get('brand', 0)" t-value="[request.params.get('brand', 0)]"/>
            <t t-set="gender" t-if="request.params.get('gender', 0)" t-value="[request.params.get('gender', 0)]"/>
            <t t-set="age" t-if="request.params.get('age', 0)" t-value="[request.params.get('age', 0)]"/>
        </xpath>

        <xpath expr="//ul/li[@t-foreach='website_sale_sortable']" position="replace">
            <li t-foreach="website_sale_sortable" t-as="sortby">
                <t t-if="brand or gender or age">
                    <a t-att-href="keep('/shop', order=sortby[1], brand=brand, gender=gender, age=age)">
                        <span t-raw="sortby[0]"/>
                    </a>
                </t>
                <t t-else="">
                    <a t-att-href="keep('/shop', order=sortby[1])">
                        <span t-raw="sortby[0]"/>
                    </a>
                </t>
            </li>
        </xpath>
    </template>

</odoo>