<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- Shop categories template -->
    <template id="website_sale_products_categories" name="eCommerce categories Anzamar" inherit_id="website_multi_theme.auto_view_anz_website_sale_products_categories">
        <xpath expr="//div[@id='products_grid_before']/ul" position="replace">
            <div class="navbar filters-navbar hidden-md hidden-sm hidden-lg">
                <div class="navbar-header">
                    <h4 class="mt16 text-uppercase">Filters and categories</h4>
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#wrap-collapse-filters">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"/>
                        <span class="icon-bar"/>
                        <span class="icon-bar"/>
                    </button>
                </div>
            </div>
            <div class="collapse navbar-collapse" id="wrap-collapse-filters">
                <h4 class="mt0 text-uppercase hidden-xs mb16">Product categories</h4>
                <div id="products_grid_before">
                     <ul class="nav nav-pills nav-stacked" id="o_shop_collapse_category">
<!--                    <ul class="nav nav-pills nav-stacked">-->
                        <li t-att-class="'active' if not (category or request.params.get('search')) else None">
                            <a href="/shop" class="o_not_editable">All Products</a>
                        </li>
                         <t t-foreach="categories" t-as="categ">
                            <t t-call="website_sale.option_collapse_categories_recursive"/>
<!--                        <t t-foreach="categories" t-as="c">-->
<!--                            <t t-call="website_sale.categories_recursive"/>-->
                        </t>
                    </ul>
                </div>
                <div class="wp-attribute-filters mt32 mb32">
                    <h4 class="mt0 text-uppercase hidden-xs">Filters</h4>
                    <t t-set="current_filter" t-value="request.httprequest.args"/>
                    <form id="product-attributes-filter" method="get">
                        <div t-if="current_filter.get('search', False)">
                            <h5>Search</h5>
                            <select name="search" class="form-control">
                                <t t-foreach="current_filter.get('search').split(' ') if len(current_filter.get('search')) > 1 else current_filter.get('search')" t-as="option">
                                    <option t-att-value="option" t-att-selected="option" t-esc="option" t-if="len(option) > 2"/>
                                </t>
                                <option t-att-value="current_filter.get('search', False)" t-att-selected="current_filter.get('search', False)" t-esc="search"
                                        t-if="len(current_filter.get('search').split(' ')) > 1"/>
                            </select>
                        </div>
                        <div>
                            <h5>Brand</h5>
                            <select name="brand" class="form-control">
                                <option value="0"/>
                                <t t-foreach="website.product_brand_list()" t-as="option">
                                    <option t-att-value="option.id" t-att-selected="option.id == int(current_filter.get('brand', False))" t-esc="option.name"/>
                                </t>
                            </select>
                        </div>
                        <div>
                            <h5>Gender</h5>
                            <select name="gender" class="form-control">
                                <option value="0"/>
                                <t t-foreach="website.product_gender_list()" t-as="option">
                                    <option t-att-value="option" t-att-selected="option == current_filter.get('gender', False)" t-esc="option"/>
                                </t>
                            </select>
                        </div>
                        <div>
                            <h5>Age</h5>
                            <select name="age" class="form-control">
                                <option value="0"/>
                                <t t-foreach="website.product_age_list()" t-as="option">
                                    <option t-att-value="option" t-att-selected="option == current_filter.get('age', False)" t-esc="option"/>
                                </t>
                            </select>
                        </div>
                        <div class="mt16 text-center">
                            <button class="btn btn-primary">Apply filters</button>
                            <a class="btn btn-default" t-att-href="request.httprequest.path">Reset</a>
                        </div>
                    </form>
                </div>
            </div>
        </xpath>
    </template>

    <!-- Shop Collapsible Categories template -->
<!--    <template id="website_sale_option_collapse_products_categories" name="Collapsible Category List Anzamar" inherit_id="website_multi_theme.auto_view_anz_website_sale_option_collapse_products_categories">-->
<!--        <xpath expr="//div[@id='products_grid_before']/ul" position="replace">-->
<!--            <ul class="nav nav-pills nav-stacked" id="o_shop_collapse_category">-->
<!--                <li t-att-class="'active' if not (category or request.params.get('search')) else None">-->
<!--                    <a href="/shop" class="o_not_editable">All Products</a>-->
<!--                </li>-->
<!--                <t t-foreach="categories" t-as="categ">-->
<!--                    <t t-call="website_sale.option_collapse_categories_recursive"/>-->
<!--                </t>-->
<!--            </ul>-->
<!--        </xpath>-->
<!--    </template>-->

</odoo>